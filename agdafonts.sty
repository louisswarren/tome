\let\AgdaOpenBracket\[\let\AgdaCloseBracket\]
\RequirePackage{fontspec}
\let\[\AgdaOpenBracket\let\]\AgdaCloseBracket
\RequirePackage{unicode-math}
\setmainfont
	[ Ligatures      = TeX
	, BoldItalicFont = XITS-BoldItalic.otf
	, BoldFont       = XITS-Bold.otf
	, ItalicFont     = XITS-Italic.otf
	]
	{XITS-Regular.otf}

\setmathfont{XITSMath-Regular.otf}
\setmonofont[Mapping=tex-text]{FreeMono.otf}

% Make mathcal and mathscr appear as different.
% https://tex.stackexchange.com/questions/120065/xetex-what-happened-to-mathcal-and-mathscr
\setmathfont[range={\mathcal,\mathbfcal},StylisticSet=1]{XITSMath-Regular.otf}
\setmathfont[range=\mathscr]{XITSMath-Regular.otf}

